<div>
  <button
    pButton
    pRipple
    label="Nuevo mensaje"
    class="mb-5 w-full p-button-outlined"
    (click)="navigate({ routerLink: '/mail/compose' })"
  ></button>
  <div class="overflow-auto">
    <ul
      class="flex flex-row md:flex-column gap-1 md:gap-2 list-none m-0 p-0 overflow-auto"
    >
      <!-- Items in the sidebar -->
      @for (item of mainItems(); track $index) {
      <li
        pRipple
        class="cursor-pointer select-none p-3 transition-duration-150 border-round flex align-items-center justify-content-center md:justify-content-start md:flex-1 flex-auto"
        [ngClass]="{
          'bg-primary': url === item.routerLink,
          'hover:surface-hover': url !== item.routerLink
        }"
        (click)="navigate(item)"
      >
        <i
          [class]="item.icon || ''"
          class="md:mr-3 text-600 transition-duration-150 text-lg"
          [ngClass]="{ 'text-primary-50': url === item.routerLink }"
        ></i>
        <span
          class="text-900 font-medium hidden md:inline"
          [ngClass]="{ 'text-primary-50': url === item.routerLink }"
          >{{ item.label }}</span
        >
        @if (item.badge) {
        <span
          class="ml-auto text-sm font-semibold bg-primary-50 text-primary-900 px-2 py-1 hidden md:inline"
          style="border-radius: 2rem"
          >{{ item.badge }}</span
        >
        }
      </li>
      }

      <li
        pRipple
        class="cursor-pointer select-none p-3 transition-duration-150 border-round flex align-items-center justify-content-center md:justify-content-start md:flex-1 flex-auto hover:surface-hover"
        (click)="toggleMoreOptions()"
      >
        <i
          [class]="!showMoreOptions ? 'pi pi-angle-down' : 'pi pi-angle-up'"
          class="md:mr-3 text-600 transition-duration-150 text-lg"
        ></i>
        <span class="text-900 font-medium hidden md:inline">Mas opciones</span>
      </li>

      <!-- Items in the more options sidebar -->
      @if (showMoreOptions) { @for (item of subItems(); track $index) {
      <div class="scalein animation-duration-150">
        <li
          pRipple
          class="cursor-pointer select-none p-3 transition-duration-150 border-round flex align-items-center justify-content-center md:justify-content-start md:flex-1 flex-auto"
          [ngClass]="{
            'bg-primary': url === item.routerLink,
            'hover:surface-hover': url !== item.routerLink
          }"
          (click)="navigate(item)"
        >
          <i
            [class]="item.icon || ''"
            class="md:mr-3 text-600 transition-duration-150 text-lg"
            [ngClass]="{ 'text-primary-50': url === item.routerLink }"
          ></i>
          <span
            class="text-900 font-medium hidden md:inline"
            [ngClass]="{ 'text-primary-50': url === item.routerLink }"
            >{{ item.label }}</span
          >
          @if (item.badge) {
          <span
            class="ml-auto text-sm font-semibold bg-primary-50 text-primary-900 px-2 py-1 hidden md:inline"
            style="border-radius: 2rem"
            >{{ item.badge }}</span
          >
          }
        </li>
      </div>

      } }
    </ul>
  </div>
</div>
